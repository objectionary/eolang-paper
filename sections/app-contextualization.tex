% SPDX-FileCopyrightText: Copyright (c) 2016-2025 Objectionary.com
% SPDX-License-Identifier: MIT

\newpage
\section{Examples of Contextualization}
\label{app:contextualization-examples}

The following examples demonstrate how the contextualization function (\cref{sec:contextualization}) works:

\begin{phiquation*}
\ctx{\xi.|x|.|k|}{b} \trans_{\ref{C:dot}}
  \trans \ctx{\xi.|x|}{b}.|k| \trans_{\ref{C:dot}}
  \trans \ctx{\xi}{b}.|x|.|k| \trans_{\ref{C:xi}}
  \trans b.|x|.|k|.
\end{phiquation*}

\begin{phiquation*}
\ctx{\xi.|t| ( |x| -> \xi, |k| -> \xi.|f| )}{b} \trans_{\ref{C:app}}
   \trans \ctx{\xi.|t|}{b} ( |x| -> \ctx{\xi}{b}, |k| -> \ctx{\xi.|f|}{b} ) \trans_{\ref{C:dot}}
   \trans \ctx{\xi.|t|}{b} ( |x| -> \ctx{\xi}{b}, |k| -> \ctx{\xi}{b}.|f| ) \trans_{\ref{C:xi}}
   \trans \ctx{\xi.|t|}{b} ( |x| -> \ctx{\xi}{b}, |k| -> b.|f| ) \trans_{\ref{C:xi}}
   \trans \ctx{\xi.|t|}{b} ( |x| -> b, |k| -> b.|f| ) \trans_{\ref{C:dot}}
   \trans \ctx{\xi}{b}.|t| ( |x| -> b, |k| -> b.|f| ) \trans_{\ref{C:xi}}
   \trans b.|t| ( |x| -> b, |k| -> b.|f| ).
\end{phiquation*}

\begin{phiquation*}
\ctx{\Phi.|x| ( |k| -> [[ |t| -> \xi.|f| ]] ( |p| -> \xi.|z| ) )}{b} \trans_{\ref{C:app}}
  \trans \ctx{\Phi.|x|}{b} ( |k| -> \ctx{[[ |t| -> \xi.|f| ]] ( |p| -> \xi.|z| )}{b} ) \trans_{\ref{C:dot}}
  \trans \ctx{\Phi}{b}.|x| ( |k| -> \ctx{[[ |t| -> \xi.|f| ]] ( |p| -> \xi.|z| )}{b} ) \trans_{\ref{C:Phi}} \quad\text{if}\; \Phi -> [[ B ]]
  \trans [[ B ]].|x| ( |k| -> \ctx{[[ |t| -> \xi.|f| ]] ( |p| -> \xi.|z| )}{b} ) \trans_{\ref{C:app}}
  \trans [[ B ]].|x| ( |k| -> \ctx{[[ |t| -> \xi.|f| ]]}{b} ( |p| -> \ctx{\xi.|z|}{b} ) ) \trans_{\ref{C:forma}}
  \trans [[ B ]].|x| ( |k| -> [[ |t| -> \xi.|f| ]] ( |p| -> \ctx{\xi.|z|}{b} ) ) \trans_{\ref{C:dot}}
  \trans [[ B ]].|x| ( |k| -> [[ |t| -> \xi.|f| ]] ( |p| -> \ctx{\xi}{b}.|z| ) ) \trans_{\ref{C:xi}}
  \trans [[ B ]].|x| ( |k| -> [[ |t| -> \xi.|f| ]] ( |p| -> b.|z| ) ).
\end{phiquation*}
