% SPDX-FileCopyrightText: Copyright (c) 2016-2025 Objectionary.com
% SPDX-License-Identifier: MIT

The entire syntax of the \eolang{} language in BNF is available on the first page of the \texttt{objectionary/eo} GitHub repository%
  \footnote{\url{https://github.com/objectionary/eo}}.
In this section, we only explain key concepts of the language.

\section{Informal Overview}

Similar to Python~\citep{lutz2013learning}, indentation in \eolang{} is part of the syntax: the scope of a code block is determined by its horizontal position in relation to other blocks~\citep{landin1966next}.
There are no keywords in \eolang{} but only a special symbols denoting grammar constructs, such as \ff{>} for attribute naming, \ff{.} for dynamic dispatch, and \ff{[]} for specifying parameters of formations.

% formation + application + dataization
% decoration
% FFI atoms
% caching dynamic dispatch
% rho
% synthetic attributes
% const
% idempotence
% lints

% true, false, if
% try/catch
% seq, goto, while,
% tuples
% malloc
% number
% const

\subsection{Objects}

An object in \eolang{} may either be eager or lazy.
An eager object is an associative array of attributes vs immutable object references.
The compiler creates an eager object when it finds a formation in the source code:

\begin{ffcode}
[isbn] > book
  "Object Thinking" > title
  39.95 > price
\end{ffcode}

This syntax is translated to the following object:

\begin{tikzpicture}
[every node/.style={draw}, every label/.style={draw=none, anchor=south west, label position=north west}]
\node [label={\(b_1\) (formation)}] (b1)
  {\parbox{7em}{
  \begin{tabularx}{\linewidth}{Xl}
  \ff{isbn}: & \(\varnothing\) \\
  \ff{title}: & \(b_2\) \\
  \ff{price}: & \(b_3\) \\
  \(\rho\): & \(\varnothing\) \\
  \end{tabularx}}};
\end{tikzpicture}

Lazy objects represent applications and dispatches.
An application is a trio of an object reference, an attribute, and an immutable object reference.
A dispatch is a trio of an object reference, an attribute, and a mutable---initially blank---object reference.

\begin{ffcode}
[qty price] > order
  qty.mul price > cost
\end{ffcode}

The code is translated to the following objects:

\begin{tikzpicture}
[every node/.style={draw}, every label/.style={draw=none, anchor=south west, label position=north west}]
\node [label={\(b_1\) (formation)}] (b1)
  {\parbox{7em}{
  \begin{tabularx}{\linewidth}{Xl}
  \ff{qty}: & \(\varnothing\) \\
  \ff{price}: & \(\varnothing\) \\
  \ff{cost}: & \(b_4\) \\
  \(\rho\): & \(\varnothing\) \\
  \end{tabularx}}};
\node [label={\(b_2\) (dispatch)}, above right=0 and 1 of b1] (b2)
  {\parbox{7em}{
  \begin{tabularx}{\linewidth}{Xl}
  \ff{target}: & \(b_1\) \\
  \ff{attr}: & \ff{qty} \\
  \ff{object}: & \(\varnothing\) \\
  \end{tabularx}}};
\node [label={\(b_3\) (dispatch)}, right=of b2] (b3)
  {\parbox{7em}{
  \begin{tabularx}{\linewidth}{Xl}
  \ff{target}: & \(b_2\) \\
  \ff{attr}: & \ff{mul} \\
  \ff{object}: & \(\varnothing\) \\
  \end{tabularx}}};
\node [label={\(b_4\) (application)}, below=of b3] (b4)
  {\parbox{7em}{
  \begin{tabularx}{\linewidth}{Xl}
  \ff{target}: & \(b_3\) \\
  \ff{attr}: & \(\alpha_0\) \\
  \ff{object}: & \(b_5\) \\
  \end{tabularx}}};
\node [label={\(b_5\) (dispatch)}, left=of b4] (b5)
  {\parbox{8em}{
  \begin{tabularx}{\linewidth}{Xl}
  \ff{target}: & \(b_1\) \\
  \ff{attr}: & \ff{price} \\
  \ff{object}: & \(\varnothing\) \\
  \end{tabularx}}};
\end{tikzpicture}

Then,  ...

